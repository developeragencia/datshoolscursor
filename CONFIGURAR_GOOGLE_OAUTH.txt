═══════════════════════════════════════════════════════════════
  🔐 CONFIGURAR GOOGLE OAUTH NO RENDER - PASSO A PASSO
═══════════════════════════════════════════════════════════════

📅 Data: 28 de Outubro de 2025
🎯 Objetivo: Ativar Login com Google
⏱️ Tempo: 3 minutos

═══════════════════════════════════════════════════════════════
  📋 CREDENCIAIS FORNECIDAS
═══════════════════════════════════════════════════════════════

Client ID:
408590510167-op0h1519p5c0hvrjd675afnq7usk79m9.apps.googleusercontent.com

Client Secret:
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

Project: datshools

═══════════════════════════════════════════════════════════════
  🚀 PASSO A PASSO (3 MINUTOS)
═══════════════════════════════════════════════════════════════

┌─ PASSO 1: ACESSAR RENDER DASHBOARD ────────────────────────┐
│                                                              │
│  1. Abra seu navegador                                      │
│                                                              │
│  2. Acesse:                                                  │
│     https://dashboard.render.com/web/srv-d3vsptq4d50c73e5h7b0
│                                                              │
│  3. Faça login se necessário                                │
│                                                              │
└──────────────────────────────────────────────────────────────┘

┌─ PASSO 2: ABRIR CONFIGURAÇÃO DE AMBIENTE ──────────────────┐
│                                                              │
│  1. No menu lateral esquerdo, clique em:                    │
│     "Environment"                                            │
│                                                              │
│  2. Você verá a lista de variáveis de ambiente             │
│                                                              │
└──────────────────────────────────────────────────────────────┘

┌─ PASSO 3: ADICIONAR GOOGLE_CLIENT_ID ──────────────────────┐
│                                                              │
│  1. Procure por "GOOGLE_CLIENT_ID"                          │
│     • Se existir: Clique em "Edit" (ícone lápis)           │
│     • Se não existir: Clique "Add Environment Variable"     │
│                                                              │
│  2. Preencha:                                                │
│     ┌──────────────────────────────────────────────────┐   │
│     │ Key:   GOOGLE_CLIENT_ID                          │   │
│     │                                                   │   │
│     │ Value: 408590510167-op0h1519p5c0hvrjd675afnq7u  │   │
│     │        sk79m9.apps.googleusercontent.com         │   │
│     └──────────────────────────────────────────────────┘   │
│                                                              │
│  3. ⚠️ IMPORTANTE: Cole EXATAMENTE como está acima          │
│                                                              │
└──────────────────────────────────────────────────────────────┘

┌─ PASSO 4: ADICIONAR GOOGLE_CLIENT_SECRET ──────────────────┐
│                                                              │
│  1. Clique novamente em "Add Environment Variable"          │
│     (ou edite se já existir)                                │
│                                                              │
│  2. Preencha:                                                │
│     ┌──────────────────────────────────────────────────┐   │
│     │ Key:   GOOGLE_CLIENT_SECRET                      │   │
│     │                                                   │   │
│     │ Value: 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       │   │
│     └──────────────────────────────────────────────────┘   │
│                                                              │
│  3. ⚠️ IMPORTANTE: Cole EXATAMENTE como está acima          │
│                                                              │
└──────────────────────────────────────────────────────────────┘

┌─ PASSO 5: SALVAR ALTERAÇÕES ───────────────────────────────┐
│                                                              │
│  1. Clique no botão azul:                                    │
│     "Save Changes"                                           │
│                                                              │
│  2. Aguarde a confirmação                                    │
│                                                              │
│  3. ⚡ Deploy automático iniciará!                          │
│                                                              │
└──────────────────────────────────────────────────────────────┘

┌─ PASSO 6: AGUARDAR REDEPLOY ───────────────────────────────┐
│                                                              │
│  1. ☕ Aguarde 2-3 minutos                                  │
│                                                              │
│  2. O Render vai:                                            │
│     ✓ Aplicar as novas variáveis                            │
│     ✓ Fazer rebuild da aplicação                            │
│     ✓ Reiniciar o serviço                                   │
│                                                              │
│  3. Acompanhe em:                                            │
│     https://dashboard.render.com/web/srv-d3vsptq4d50c73e5h7b0/logs
│                                                              │
└──────────────────────────────────────────────────────────────┘

═══════════════════════════════════════════════════════════════
  ✅ VERIFICAR SE FUNCIONOU
═══════════════════════════════════════════════════════════════

1. Aguarde o deploy concluir

2. Acesse: https://dashtools-5px2.onrender.com/login

3. Procure pelo botão "Entrar com Google"

4. Clique no botão

5. Deve redirecionar para tela de login do Google ✅

6. Após autorizar, volta para o dashboard logado ✅

═══════════════════════════════════════════════════════════════
  📊 VERIFICAR NOS LOGS
═══════════════════════════════════════════════════════════════

Nos logs do Render, procure por:

  ✅ Environment variables validated successfully
     GOOGLE_CLIENT_ID: Set ✓
     GOOGLE_CLIENT_SECRET: Set ✓

Se ver isso = CONFIGURADO COM SUCESSO! ✅

═══════════════════════════════════════════════════════════════
  ⚠️ IMPORTANTE - GOOGLE CLOUD CONSOLE
═══════════════════════════════════════════════════════════════

As URLs de redirect JÁ ESTÃO configuradas no Google:

✅ https://datshoolscursor.onrender.com/api/auth/google/callback
✅ https://dashtoolsapp.com/api/auth/google/callback

Mas você precisa verificar se estão CORRETAS. Acesse:

1. https://console.cloud.google.com/apis/credentials

2. Selecione o projeto: datshools

3. Clique nas credenciais OAuth 2.0

4. Verifique se contém:

   URIs de redirecionamento autorizados:
   ☑ https://dashtools-5px2.onrender.com/api/auth/google/callback

   ⚠️ ATENÇÃO: A URL atual do Render é:
   https://dashtools-5px2.onrender.com

   Mas no Google está configurado:
   https://datshoolscursor.onrender.com

   🔧 VOCÊ PRECISA ADICIONAR:
   https://dashtools-5px2.onrender.com/api/auth/google/callback

═══════════════════════════════════════════════════════════════
  🔧 ADICIONAR URL CORRETA NO GOOGLE
═══════════════════════════════════════════════════════════════

1. No Google Cloud Console, nas credenciais OAuth

2. Em "URIs de redirecionamento autorizados", clique em "+ ADD URI"

3. Cole:
   https://dashtools-5px2.onrender.com/api/auth/google/callback

4. Em "Origens JavaScript autorizadas", clique em "+ ADD URI"

5. Cole:
   https://dashtools-5px2.onrender.com

6. Clique em "SAVE" no final da página

═══════════════════════════════════════════════════════════════
  🧪 TESTAR GOOGLE OAUTH
═══════════════════════════════════════════════════════════════

1. Acesse: https://dashtools-5px2.onrender.com/login

2. Clique em "Entrar com Google"

3. Fluxo esperado:
   ✓ Redireciona para Google
   ✓ Você autoriza
   ✓ Volta para aplicação
   ✓ Está logado no dashboard

Se funcionar = SUCESSO! 🎉

═══════════════════════════════════════════════════════════════
  ❌ PROBLEMAS COMUNS
═══════════════════════════════════════════════════════════════

ERRO: "redirect_uri_mismatch"
→ A URL de redirect não está autorizada no Google
→ Solução: Adicione https://dashtools-5px2.onrender.com/api/auth/google/callback

ERRO: "google_oauth_not_configured"
→ Variáveis não configuradas no Render
→ Solução: Volte ao Passo 3 e configure

ERRO: "invalid_client"
→ Client ID ou Secret incorretos
→ Solução: Verifique se copiou corretamente

Botão Google não aparece
→ Variáveis não foram salvas
→ Solução: Verifique Environment no Render

═══════════════════════════════════════════════════════════════
  ✅ CHECKLIST FINAL
═══════════════════════════════════════════════════════════════

Render:
  [ ] GOOGLE_CLIENT_ID configurado
  [ ] GOOGLE_CLIENT_SECRET configurado
  [ ] Deploy concluído
  [ ] Logs mostram "Set ✓"

Google Cloud Console:
  [ ] https://dashtools-5px2.onrender.com/api/auth/google/callback adicionado
  [ ] https://dashtools-5px2.onrender.com adicionado
  [ ] Credenciais salvas

Teste:
  [ ] Botão "Entrar com Google" aparece
  [ ] Redireciona para Google
  [ ] Volta e loga corretamente
  [ ] Usuário fica logado

═══════════════════════════════════════════════════════════════
  📚 DOCUMENTAÇÃO COMPLETA
═══════════════════════════════════════════════════════════════

Para mais detalhes, veja:

  📄 GOOGLE_OAUTH_CREDENTIALS.md
     → Documentação completa das credenciais

  📄 GOOGLE_OAUTH_SETUP.md
     → Guia de setup do Google OAuth

  📄 CORRECOES_LOGIN_CADASTRO.md
     → Correções recentes de auth

═══════════════════════════════════════════════════════════════
  🎯 RESUMO
═══════════════════════════════════════════════════════════════

1. Configure 2 variáveis no Render (3 min)
2. Adicione URL correta no Google Console (2 min)
3. Teste o login com Google (1 min)

TOTAL: ~6 minutos

═══════════════════════════════════════════════════════════════

🚀 COMECE AGORA!

Abra: https://dashboard.render.com/web/srv-d3vsptq4d50c73e5h7b0

═══════════════════════════════════════════════════════════════

